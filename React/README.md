# React å­¦ä¹ æ€»ç»“

### ä¸€ã€ä»€ä¹ˆæ˜¯ React

  > React æ˜¯ Facebook åœ¨ 2011 å¹´å¼€å‘çš„å‰ç«¯ JavaScript åº“ã€‚å®ƒéµå¾ªåŸºäºç»„ä»¶çš„æ–¹æ³•ï¼Œæœ‰åŠ©äºæ„å»ºå¯é‡ç”¨çš„ UI ç»„ä»¶ã€‚å®ƒç”¨äºå¼€å‘å¤æ‚å’Œäº¤äº’å¼çš„ Web å’Œç§»åŠ¨ UIã€‚

  **ä¸»è¦åŠŸèƒ½**

  - å®ƒä½¿ç”¨*è™šæ‹Ÿ DOM*è€Œä¸æ˜¯çœŸæ­£çš„ DOMã€‚
  - å®ƒå¯ä»¥ç”¨æœåŠ¡å™¨ç«¯æ¸²æŸ“ã€‚
  - å®ƒéµå¾ªå•å‘æ•°æ®æµæˆ–æ•°æ®ç»‘å®šã€‚

  **ä¸»è¦ä¼˜ç‚¹**

  - å®ƒæé«˜äº†åº”ç”¨çš„æ€§èƒ½
  - å¯ä»¥æ–¹ä¾¿åœ°åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä½¿ç”¨
  - JSX ä»£ç çš„å¯è¯»æ€§å¾ˆå¥½
  - React å¾ˆå®¹æ˜“ä¸ Meteorï¼ŒAngular ç­‰å…¶ä»–æ¡†æ¶é›†æˆ
  - ä½¿ç”¨ Reactï¼Œç¼–å†™ UI æµ‹è¯•ç”¨ä¾‹å˜å¾—éå¸¸å®¹æ˜“

### äºŒã€åŒºåˆ† Real DOM å’Œ Virtual DOM

  > å½“æ•°æ®çš„å˜åŒ–å®æ—¶åæ˜ åˆ° UI ä¸Šï¼Œè¿™æ—¶å°±éœ€è¦å¯¹ DOM è¿›è¡Œæ“ä½œï¼Œä½†æ˜¯å¤æ‚æˆ–é¢‘ç¹çš„ DOM æ“ä½œé€šå¸¸æ˜¯æ€§èƒ½ç“¶é¢ˆäº§ç”Ÿçš„åŸå› ï¼Œä¸ºæ­¤ï¼ŒReact å¼•å…¥äº†è™šæ‹Ÿ DOMï¼ˆVirtual DOMï¼‰çš„æœºåˆ¶ã€‚

  **ä»€ä¹ˆæ˜¯è™šæ‹Ÿ DOM ?**
  > åœ¨ React ä¸­ï¼Œrender æ‰§è¡Œçš„ç»“æœå¾—åˆ°çš„å¹¶ä¸æ˜¯çœŸæ­£çš„ DOM èŠ‚ç‚¹ï¼Œç»“æœä»…ä»…æ˜¯è½»é‡çº§çš„ JavaScript å¯¹è±¡ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º virtual DOMã€‚

  * è™šæ‹Ÿ DOM å’ŒçœŸå® DOM ä¸¤è€…çš„åŒºåˆ«
    + Real DOM
      - æ›´æ–°ç¼“æ…¢
      - å¯ä»¥ç›´æ¥æ›´æ–° HTML
      - å¦‚æœå…ƒç´ æ›´æ–°ï¼Œåˆ™åˆ›å»ºæ–° DOM
      - DOM æ“ä½œä»£ä»·å¾ˆé«˜
      - æ¶ˆè€—çš„å†…å­˜è¾ƒå¤š

    + Virtual DOM
      - æ›´æ–°æ›´å¿«
      - æ— æ³•ç›´æ¥æ›´æ–° HTML
      - å¦‚æœå…ƒç´ æ›´æ–°ï¼Œåˆ™æ›´æ–° JSX
      - DOM æ“ä½œéå¸¸ç®€å•
      - å¾ˆå°‘çš„å†…å­˜æ¶ˆè€—

### ä¸‰ã€ä»€ä¹ˆæ˜¯ JSX

  > JSX æ˜¯ javascript XML çš„ç®€å†™ã€‚ æ˜¯ React ä½¿ç”¨çš„ä¸€ç§æ–‡ä»¶ï¼Œå®ƒåˆ©ç”¨ JavaScript çš„è¡¨ç°åŠ›å’Œç±»ä¼¼ HTML çš„æ¨¡æ¿è¯­æ³•ã€‚å› ä¸º JSX çš„ç‰¹æ€§æ›´æ¥è¿‘ JavaScript è€Œä¸æ˜¯ HTML , æ‰€ä»¥ React DOM ä½¿ç”¨ camelCase å°é©¼å³°å‘½å æ¥å®šä¹‰å±æ€§çš„åç§°ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ HTML çš„å±æ€§åç§°ã€‚ ä¾‹å¦‚ï¼Œclass å˜æˆäº† classNameï¼Œè€Œ tabindex åˆ™å¯¹åº”ç€ tabIndexï¼Œfor å¯¹åº” htmlForã€‚

  æˆ‘ä»¬æ¥è§‚å¯Ÿä¸€ä¸‹å£°æ˜çš„è¿™ä¸ªå˜é‡ï¼š`const element = <h1>Hello, world!</h1>;`

  è¿™ç§çœ‹èµ·æ¥å¯èƒ½æœ‰äº›å¥‡æ€ªçš„æ ‡ç­¾è¯­æ³•æ—¢ä¸æ˜¯å­—ç¬¦ä¸²ä¹Ÿä¸æ˜¯ HTMLã€‚å®ƒè¢«ç§°ä¸º JSXï¼Œ ä¸€ç§ JavaScript çš„è¯­æ³•æ‰©å±•ã€‚ æˆ‘ä»¬æ¨èåœ¨ React ä¸­ä½¿ç”¨ JSX æ¥æè¿°ç”¨æˆ·ç•Œé¢ã€‚JSX ä¹çœ‹èµ·æ¥å¯èƒ½æ¯”è¾ƒåƒæ˜¯æ¨¡ç‰ˆè¯­è¨€ï¼Œä½†äº‹å®ä¸Šå®ƒå®Œå…¨æ˜¯åœ¨ JavaScript å†…éƒ¨å®ç°çš„ã€‚
  
  åœ¨ JSX ä¸­ä½¿ç”¨è¡¨è¾¾å¼ {} ï¼š`render( Hello, {formatName(user)}! )`

### å››ã€è™šæ‹Ÿ DOM ä»‹ç»å’Œå·¥ä½œåŸç†

  **ä»€ä¹ˆæ˜¯è™šæ‹Ÿ DOM ?**
  > åœ¨ React ä¸­ï¼Œrender æ‰§è¡Œçš„ç»“æœå¾—åˆ°çš„å¹¶ä¸æ˜¯çœŸæ­£çš„ DOM èŠ‚ç‚¹ï¼Œç»“æœä»…ä»…æ˜¯è½»é‡çº§çš„ JavaScript å¯¹è±¡ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º virtual DOMã€‚

  **è™šæ‹Ÿ DOM VS ç›´æ¥æ“ä½œåŸç”Ÿ DOM ?**
  > å¦‚æœæ²¡æœ‰ Virtual DOMï¼Œç®€å•æ¥è¯´å°±æ˜¯ç›´æ¥é‡ç½® innerHTMLã€‚è¿™æ ·æ“ä½œï¼Œåœ¨ä¸€ä¸ªå¤§å‹åˆ—è¡¨æ‰€æœ‰æ•°æ®éƒ½å˜äº†çš„æƒ…å†µä¸‹ï¼Œè¿˜ç®—æ˜¯åˆç†ï¼Œä½†æ˜¯ï¼Œå½“åªæœ‰ä¸€è¡Œæ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒä¹Ÿéœ€è¦é‡ç½®æ•´ä¸ª innerHTMLï¼Œè¿™æ—¶å€™æ˜¾ç„¶å°±é€ æˆäº†å¤§é‡æµªè´¹ã€‚

  æ¯”è¾ƒ innerHTML å’Œ Virtual DOM çš„é‡ç»˜è¿‡ç¨‹å¦‚ä¸‹ï¼š
  - innerHTML: render html string + é‡æ–°åˆ›å»ºæ‰€æœ‰ DOM å…ƒç´ 
  - Virtual DOM: render Virtual DOM + diff + å¿…è¦çš„ DOM æ›´æ–°

  **å·¥ä½œåŸç†**
  > å®ƒæ˜¯ä¸€ä¸ªè½»é‡çº§çš„ JavaScript å¯¹è±¡ï¼Œæœ€åˆåªæ˜¯çœŸå® DOM çš„å‰¯æœ¬ã€‚å®ƒæ˜¯ä¸€ä¸ªèŠ‚ç‚¹æ ‘ï¼Œå®ƒå°†å…ƒç´ ã€å±æ€§ã€å†…å®¹ä½œä¸ºä¸€ä¸ªå¯¹è±¡åŠå±æ€§ã€‚React çš„æ¸²æŸ“å‡½æ•° `render()` ä» React ç»„ä»¶ä¸­åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹æ ‘ï¼Œç„¶åå®ƒæƒ³è¦æ•°æ®æ¨¡å‹ä¸­çš„å˜åŒ–æ¥æ›´æ–°è¯¥æ ‘ï¼Œè¯¥å˜åŒ–æ˜¯ç”±ç”¨æˆ·æˆ–ç³»ç»Ÿå®Œæˆå„ç§åŠ¨ä½œå¼•èµ·ã€‚

  **å·¥ä½œè¿‡ç¨‹**

  1. æ¯å½“åº•å±‚æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ•´ä¸ª UI éƒ½å°†åœ¨å¤–è™šæ‹Ÿ DOM æè¿°ä¸­é‡æ–°æ¸²æŸ“ã€‚
  2. è®¡ç®—ä¹‹å‰çš„ DOM è¡¨ç¤ºå’Œæ–°çš„ä¹‹é—´å·®å¼‚
  3. å®Œæˆè®¡ç®—åï¼Œå°†åªç”¨å®é™…æ›´æ”¹çš„å†…å®¹æ›´æ–°åˆ°çœŸå® DOM

### äº”ã€ä¸ºä»€ä¹ˆæµè§ˆå™¨æ— æ³•è¯»å– JSXï¼Ÿ

  > æµè§ˆå™¨åªèƒ½å¤„ç† JavaScript å¯¹è±¡ï¼Œè€Œä¸èƒ½è¯»å–å¸¸è§„ JavaScript å¯¹è±¡ä¸­çš„ JSXã€‚æ‰€ä»¥ä¸ºäº†ä½¿æµè§ˆå™¨èƒ½å¤Ÿè¯»å– JSXï¼Œé¦–å…ˆéœ€è¦ç”¨åƒ Babel è¿™æ ·çš„ JSX è½¬æ¢å™¨å°† JSX æ–‡ä»¶è½¬æ¢ä¸º JavaScript å¯¹è±¡ï¼Œç„¶åå†å°†å…¶ä¼ ç»™æµè§ˆå™¨ã€‚

### å…­ã€React ç»„ä»¶

  > ç»„ä»¶æ˜¯ React åº”ç”¨ UI çš„æ„å»ºå—ï¼Œè¿™äº›ç»„ä»¶å°†æ•´ä¸ª UI åˆ†æˆå°çš„ç‹¬ç«‹å¹¶å¯é‡ç”¨çš„éƒ¨åˆ†ã€‚æ¯ä¸ªç»„ä»¶å½¼æ­¤ç‹¬ç«‹ï¼Œè€Œä¸ä¼šå½±å“ UI çš„å…¶ä½™éƒ¨åˆ†ã€‚å½“éœ€æ±‚æ—¥ç§¯æœˆç´¯ï¼Œä¸æ–­å˜åŒ–ï¼Œé¡µé¢ä¸­å¿…ç„¶ä¼šæœ‰ç›¸åŒçš„ UI ï¼Œå¦‚æœæ¯ä¸ªé¡µé¢å•ç‹¬ç”Ÿäº§ä¸€ä¸ªï¼Œè¿™æ ·ç»´æŠ¤æˆæœ¬å°±å¤ªå¤§ã€‚æ‰€ä»¥å°±æœ‰äº†â€œç»„ä»¶åŒ–â€çš„æ¦‚å¿µï¼ŒæŠŠä¸€äº›é‡å¤çš„ä»£ç å°è£…æˆä¸€ä¸ªç»„ä»¶ï¼Œä¾¿äºå¤ç”¨ç»´æŠ¤ã€‚

### ä¸ƒã€ç†è§£ React ä¸­ render() çš„ç›®çš„

  > æ¯ä¸ª React class ç»„ä»¶å¼ºåˆ¶è¦æ±‚å¿…é¡»æœ‰ä¸€ä¸ª `render()`ã€‚å®ƒè¿”å›ä¸€ä¸ª React å…ƒç´ ï¼Œæ˜¯åŸç”Ÿ DOM ç»„ä»¶çš„è¡¨ç¤ºã€‚å¦‚æœéœ€è¦æ¸²æŸ“å¤šä¸ª HTML å…ƒç´ ï¼Œåˆ™å¿…é¡»å°†å®ƒä»¬ç»„åˆåœ¨ä¸€ä¸ªå°é—­æ ‡è®°å†…ï¼Œä¾‹å¦‚ `<form>`ã€`<group>`ã€`<div>` ç­‰ã€‚æ­¤å‡½æ•°å¿…é¡»ä¿æŒçº¯å‡€ï¼Œå³å¿…é¡»æ¯æ¬¡è°ƒç”¨æ—¶éƒ½è¿”å›ç›¸åŒçš„ç»“æœã€‚

  - å½“ç»„ä»¶çš„ state æˆ–è€… props å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œrender å‡½æ•°å°±ä¼šé‡æ–°æ‰§è¡Œ
  - å½“çˆ¶ç»„ä»¶çš„ render å‡½æ•°è¢«è¿è¡Œæ—¶ï¼Œå®ƒçš„å­ç»„ä»¶çš„ render ä¹Ÿå°†é‡æ–°è¿è¡Œ

### å…«ã€å¦‚ä½•æ›´æ–°ç»„ä»¶çš„çŠ¶æ€ï¼Ÿ

  > å¯ä»¥ç”¨ `this.setState()` æ›´æ–°ç»„ä»¶çš„çŠ¶æ€ã€‚

### ä¹ã€React ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„é˜¶æ®µæ˜¯ä»€ä¹ˆ?

  > ä¸‰é˜¶æ®µï¼š**åˆå§‹æ¸²æŸ“é˜¶æ®µ**ã€**æ›´æ–°é˜¶æ®µ**ã€**å¸è½½é˜¶æ®µ**

  - åˆå§‹é˜¶æ®µçš„æµç¨‹æ˜¯ï¼š`constructor()` -> `componentWillMount()` -> `render()` -> `componentDidMount()`
  - æ›´æ–°é˜¶æ®µçš„æµç¨‹æ˜¯ï¼š`shouldComponentUpdate()` -> `componentWillUpdate()` -> `render()` -> `componentDidUpdate()`

  * å¦‚æœçˆ¶äº²ç»„ä»¶æ›´æ–°åˆ™æ˜¯ï¼š `componentWillReceiveProps()` -> `shouldComponentUpdate()` -> `componentWillUpdate()` -> `render()` -> `componentDidUpdate()`

### åã€å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶ç†è§£

  **å—æ§ç»„ä»¶**

  - æ²¡æœ‰ç»´æŒè‡ªå·±çš„çŠ¶æ€
  - æ•°æ®ç”±çˆ¶ç»„ä»¶æ§åˆ¶
  - é€šè¿‡ props è·å–å½“å‰å€¼ï¼Œç„¶åé€šè¿‡å›è°ƒé€šçŸ¥æ›´æ”¹

  **éå—æ§ç»„ä»¶**

  - ä¿æŒç€è‡ªå·±çš„çŠ¶æ€
  - æ•°æ®ç”± DOM æ§åˆ¶
  - Resf ç”¨äºå½“å‰å€¼

### åä¸€ã€ä»€ä¹ˆæ˜¯é«˜é˜¶ç»„ä»¶

  > é«˜é˜¶ç»„ä»¶æ˜¯é‡ç”¨ç»„ä»¶é€»è¾‘çš„é«˜çº§æ–¹æ³•ï¼Œæ˜¯ä¸€ç§æºäº React çš„ç»„ä»¶æ¨¡å¼ã€‚å¤šç”¨äºä»¥ä¸‹å‡ ç§ï¼š

  - ä»£ç é‡ç”¨ï¼Œé€»è¾‘å’Œå¼•å¯¼æŠ½è±¡
  - æ¸²æŸ“åŠ«æŒ
  - çŠ¶æ€æŠ½è±¡å’Œæ§åˆ¶
  - Props æ§åˆ¶

### åäºŒã€React ä¸­ key çš„é‡è¦æ€§æ˜¯ä»€ä¹ˆï¼Ÿ
  > key ç”¨äºè¯†åˆ«å”¯ä¸€çš„ Virtual DOM å…ƒç´ åŠå…¶é©±åŠ¨ UI çš„ç›¸åº”æ•°æ®ã€‚å®ƒä»¬é€šè¿‡å›æ”¶ DOM ä¸­å½“å‰æ‰€æœ‰çš„å…ƒç´ æ¥å¸®åŠ© React ä¼˜åŒ–æ¸²æŸ“ã€‚è¿™äº› key å¿…é¡»æ˜¯å”¯ä¸€çš„æ•°å­—æˆ–å­—ç¬¦ä¸²ï¼ŒReact åªæ˜¯é‡æ–°æ’åºå…ƒç´ è€Œä¸æ˜¯é‡æ–°æ¸²æŸ“å®ƒä»¬ã€‚è¿™å¯ä»¥æé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚

### åä¸‰ã€ç»„ä»¶çš„å¼•ç”¨&é€šä¿¡

  > åœ¨ç»„ä»¶é€šä¿¡ä¹‹é—´ï¼Œå°½é‡ä¿è¯åœ¨è‡ªèº«ç»„ä»¶ä¸Šå»ä¿®æ”¹çŠ¶æ€å’Œæ•°æ®ï¼Œè¿™æ ·å¯ä»¥é¿å…ç»„ä»¶ä¹‹é—´çš„ä¾èµ–ã€‚è§£å†³æ–¹å¼æ˜¯ï¼šè‡ªèº«æä¾›ä¸€ä¸ªæ–¹æ³•ã€‚ ç»„ä»¶ä¹‹é—´ç®€å•çš„å¼•ç”¨å¯ä»¥é€šè¿‡ ref ä½¿ç”¨ï¼Œä½†æ›´å¤æ‚çš„é€šä¿¡åˆ™å¿…é¡»ä¾èµ–å¦‚ redux è¿™ç§å¤§å‹çš„æ¡†æ¶è¾…åŠ©ã€‚

  - çˆ¶ç»„ä»¶é€šè¿‡å±æ€§çš„æ–¹å¼å‘å­ç»„ä»¶ä¼ å€¼
  - å­ç»„ä»¶é€šè¿‡ `this.props.xxx` æ¥å—çˆ¶ç»„ä»¶çš„å±æ€§å†…å®¹
  - ä¼ é€’æ–¹æ³•éœ€è¦åœ¨çˆ¶ç»„ä»¶ `bind(this)`

  **çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶**
  > ä½¿ç”¨ ref çš„æ–¹å¼è°ƒç”¨

  ```javascript
  class Parent extends React.Component{
    constructor(...args) {
      super(...args);
    };

    fn() {
      this.refs.child.add(this.refs.input.value);
    };

    render() {
      return (
        <div>
          <h2>çˆ¶ç»„ä»¶</h2>
          <input type="text" ref="input" />
          <button onClick={this.fn.bind(this)}>add</button>
          <hr />
          <Child ref="child" /> 
        </div> 
      );
    };
  };

  class Child extends React.Component{
    constructor(...args) {
      super(...args);

      this.state = {
        a: 0
      }
    };

    add(n) {
      this.setState({
        a: this.state.a + parseInt(n)
      })
    }

    render() {
      return (
        <h2>å­ç»„ä»¶ï¼š{this.state.a}</h2>
      )
    }
  }
  ```

  **å­ç»„ä»¶è°ƒç”¨çˆ¶ç»„ä»¶**
  > é€šè¿‡ props çš„æ–¹å¼æ¥å—çˆ¶ç»„ä»¶çš„ this å¤„ç†

  ```javascript
  class Parent extends React.Component{
    constructor(...args) {
      super(...args);

      this.state = {
        a: 0
      }
    };

    add(n) {
      this.setState({
        a: this.state.a + parseInt(n)
      })
    }

    render() {
      return (
        <div>
          <h2>çˆ¶ç»„ä»¶ï¼š{this.state.a}</h2>
          <hr />
          <Child parent={this} /> 
        </div> 
      );
    };
    };

    class Child extends React.Component{
    constructor(...args) {
      super(...args);
    };

    fn() {
      let parent = this.props.parent;
      parent.add(this.refs.input.value);
    }

    render() {
      return (
        <div>
          <h2>å­ç»„ä»¶</h2>
          <input type="text" ref="input" />
          <button onClick={this.fn.bind(this)}>add</button>
        </div>
      )
    }
    };
  ```

### åå››ã€ Hook
  > Hook æ˜¯å¯ä»¥åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ã€‚ç›¸æ¯” class æ–¹å¼æ›´ç®€æ´ä¸€äº›ï¼Œå®ƒæ˜¯ä¸€å¥—å·¥å…·å‡½æ•°çš„é›†åˆï¼Œå¢åŠ  function çš„åŠŸèƒ½

  **useState**
  > åœ¨ useState é‡Œå¯ä»¥è®¾ç½®å¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°çš„å½¢å¼

  ```javascript
  const [fruit,setFruit] = useState('ğŸ');  // å®šä¹‰äº†ä¸€ä¸ªæ¥æ”¶å€¼å’Œåˆå§‹å€¼ï¼Œå¹¶åˆå§‹åŒ–ä¸€ä¸ªä¸º ğŸ çš„å€¼

  return(
    <Fragment>
      <p>{fruit}</p>
      <button 
        htmltype="button" 
        onClick={()=>{ setFruit('ğŸ') }}
      >æ¢é›ªæ¢¨</button>
    </Fragment>
  )
  ```

  ```javascript
  const [oBj, setObj] = useState({name: 'Tom', sex: 'ç”·'});

  return(
    <Fragment>
      <p>{oBj.name}</p>
      <button
        htmltype="button"
        onClick={() =>{ 
          setObj({...oBj, name: 'Lee'});
        }}
      >æ¢åå­—</button>
    </Fragment>
  )
  ```

  ```javascript
  const [func, setFunc] = useState(() => {
    return 'useState ä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ªå‡½æ•°';
  });

  return(
    <Fragment>
      <p>{func}</p>
      <button
        htmltype="button"
        onClick={()=>{
          setFunc(() => {
            return 'æ”¹å˜å†…å®¹';
          })
        }}
      >å‡½æ•°å½¢å¼</button>
    </Fragment>
  )
  ```

  **useEffect**
  1. `useEffect` ç›¸å½“äºç±»ç»„ä»¶é‡Œé¢çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œ`componentDidMount`ã€`componentDidUpdate` å’Œ `componentWillUnmount`
  2. `useEffect` å¯ä»¥åœ¨å‡½æ•°ä¸­æ‰§è¡Œå‰¯ä½œç”¨æ“ä½œï¼šDOM æ“ä½œã€æ•°æ®è¯·æ±‚ã€ç»„ä»¶æ›´æ–°
  3. `useEffect` æ˜¯åœ¨ç»„ä»¶å†…éƒ¨æ‰§è¡Œçš„ï¼Œè¿™æ ·å¯ä»¥è·å– `props` å’Œ `state`ï¼Œå®ƒé‡‡ç”¨äº†å¿…åŒ…çš„å½¢å¼
  4. `useEffect` æ˜¯åœ¨ç»„ä»¶æ›´æ–°å®Œä¹‹åæ‰§è¡Œçš„ï¼Œè¿™æ ·èµ·åˆ°äº†æ— é˜»å¡æ›´æ–°çš„ä½œç”¨ï¼Œä¿è¯é¡µé¢æ²¡åŠ è½½åˆ°æ•°æ®ä¹‹å‰èƒ½æ­£å¸¸æ¸²æŸ“
  5. `useEffect` å¯ä»¥åœ¨ä¸€ä¸ªç»„ä»¶é‡Œé¢å­˜åœ¨å¤šä¸ª

  ```javascript
  const [count, setCount] = useState(0);

  // åˆå§‹æ‰§è¡Œ useEffect ç›¸å½“äºç±»ç»„ä»¶çš„ componentDidMount
  useEffect(() => {
    // å½“ç»„ä»¶æ›´æ–°æ—¶å€™ï¼Œç›¸å½“äºç±»ç»„ä»¶çš„ componentDidUpdate
    console.log(count);

    // return ç»„ä»¶å¸è½½(ç¦»å¼€)ä¹‹åæ‰§è¡Œçš„å†…å®¹ï¼Œç›¸å½“äºç±»ç»„ä»¶çš„ componentWillUnmount
    return () => {
      console.log('componentWillUnmount');
    }
  }, []); // å¦‚æœç¬¬äºŒä¸ªå‚æ•°ä¸º [] ç©ºæ•°æ®åˆ™ä¸ºä¸ç›‘å¬æ‰€æœ‰çš„ state å˜åŒ–ã€‚å¦‚æœåŠ ä¸ŠæŒ‡å®šå˜é‡åˆ™ä¸ºç›‘å¬å½“å‰å˜é‡ã€‚

  return(
    <Fragment>
      <p>{count}</p>
      <button onClick={() => {setCount(count+1)}}>ç´¯è®¡</button>
    </Fragment>
  ); 
  ```